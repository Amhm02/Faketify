<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title class="ion-text-center">
      <span class="app-logo">
        <ion-icon name="musical-notes"></ion-icon>
        Faketify
      </span>
    </ion-title>
    <ion-buttons slot="end">
      <app-theme-button></app-theme-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="intro-content" [class.theme-dark]="slideTheme === 'dark'" [class.theme-rosa]="slideTheme === 'rosa'"
  [class.theme-amarillo]="slideTheme === 'amarillo'">

  <div class="intro-wrapper">
    <div class="intro-container">

      <!-- Progress Indicators (Fixed) -->
      <div class="slide-progress">
        <div class="progress-dots">
          <span *ngFor="let slide of slides; let i = index" class="progress-dot" [class.active]="i === currentSlide"
            [class.completed]="i < currentSlide">
          </span>
        </div>
      </div>

      <!-- Dynamic Content Area -->
      <div class="slide-content-area">
        <!-- Title -->
        <h1 class="slide-title">{{ currentSlideData.title }}</h1>

        <!-- Image -->
        <div class="slide-image-section">
          <div class="image-container">
            <img [src]="currentSlideData.image" [alt]="currentSlideData.title" ng-skip-optimization />
            <div class="image-decoration"></div>
          </div>
        </div>

        <!-- Description -->
        <div class="slide-description-section">
          <p class="slide-description">{{ currentSlideData.description }}</p>
        </div>
      </div>

      <!-- Navigation Buttons (Fixed) -->
      <div class="slide-actions">
        <!-- Next/Start Button -->
        <ion-button *ngIf="!isLastSlide" expand="block" shape="round" class="primary-action-btn" (click)="nextSlide()">
          <span>Siguiente</span>
          <ion-icon name="arrow-forward" slot="end"></ion-icon>
        </ion-button>

        <ion-button *ngIf="isLastSlide" expand="block" shape="round" class="primary-action-btn start-btn"
          (click)="startApp()">
          <ion-icon name="rocket-outline" slot="start"></ion-icon>
          <span>Comenzar</span>
        </ion-button>

        <!-- Reset Link (only on last slide) -->
        <button *ngIf="isLastSlide" class="reset-link" (click)="resetIntroSeen()">
          <ion-icon name="refresh-outline"></ion-icon>
          <span>Ver introducci√≥n nuevamente</span>
        </button>

        <!-- Back Button (not on first slide) -->
        <button *ngIf="currentSlide > 0 && !isLastSlide" class="back-link" (click)="previousSlide()">
          <ion-icon name="arrow-back"></ion-icon>
          <span>Anterior</span>
        </button>
      </div>
    </div>
  </div>
</ion-content>